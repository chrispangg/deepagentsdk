---
title: Command Line Interface
description: Interactive terminal interface for working with AI agents
---

The Deep Agent CLI provides an interactive terminal interface for working with AI agents directly from your command line. Built with [Ink](https://github.com/vadimdemedes/ink) (React for CLI), it offers a rich, visual experience with real-time streaming, event rendering, and interactive workflows.

## What is the CLI?

The Deep Agent CLI is a **terminal-based interactive agent** that combines:

<Cards>
  <Card title="Natural Language">
    Chat with the agent to accomplish tasks
  </Card>
  <Card title="Real-time Streaming">
    See responses as they're generated
  </Card>
  <Card title="Event Visualization">
    Watch tool calls execute live
  </Card>
  <Card title="Interactive Approvals">
    Approve or deny tool executions
  </Card>
  <Card title="Session Persistence">
    Save and resume conversations
  </Card>
  <Card title="File Operations">
    Read, write, edit files from terminal
  </Card>
</Cards>

## When to Use the CLI

The CLI is ideal for:

- **Development workflows** - Code generation, refactoring, debugging assistance
- **File operations** - Batch file processing, codebase navigation, project setup
- **Research tasks** - Web searches, API calls, content fetching and summarization
- **Scripting** - Execute shell commands, run tests, manage dependencies
- **Learning** - Explore agent behavior and capabilities interactively
- **Quick prototyping** - Test prompts and agent configurations without writing code

### CLI vs. Programmatic Usage

| CLI | Programmatic (`createDeepAgent`) |
|-----|----------------------------------|
| Interactive, visual experience | Build custom applications and integrations |
| Quick ad-hoc tasks | Automated workflows and APIs |
| Built-in approval workflows | Full control over agent behavior |
| Session management UI | Custom state management |
| Real-time event streaming | Event handling in your code |

## Installation

### Prerequisites

<Callout title="Bun Required" type="warn">The CLI requires [Bun](https://bun.sh) runtime (>= 1.0.0)</Callout>

```bash title="install-bun.sh"
# Install Bun
curl -fsSL https://bun.sh/install | bash
```

### Installation Options

<Tabs items={['Run without installing', 'Install globally', 'Install locally', 'From source']}>
  <Tab value="Run without installing">
    **Recommended for quick use**

    ```bash
    bunx ai-sdk-deep-agent
    ```
  </Tab>
  <Tab value="Install globally">
    ```bash
    bun add -g ai-sdk-deep-agent
    deep-agent
    ```
  </Tab>
  <Tab value="Install locally">
    ```bash
    cd your-project
    bun add ai-sdk-deep-agent
    bunx deep-agent
    ```
  </Tab>
  <Tab value="From source">
    ```bash
    git clone https://github.com/chrispangg/ai-sdk-deepagent.git
    cd ai-sdk-deepagent
    bun install
    bun run cli
    ```
  </Tab>
</Tabs>

## Quick Start

<Steps>
<Step>
### Set up API keys

Create a `.env` file in your working directory:

```bash title=".env"
ANTHROPIC_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...              # Optional
TAVILY_API_KEY=tvly-...            # Optional, for web_search tool
```

Or set environment variables:

```bash
export ANTHROPIC_API_KEY=sk-ant-...
export TAVILY_API_KEY=tvly-...     # For web search capabilities
```
</Step>

<Step>
### Start the CLI

```bash
bunx ai-sdk-deep-agent
```
</Step>

<Step>
### Interact with the agent

```
>_ Deep Agent
model:     anthropic/claude-haiku-4-5-20251001  /model to change
directory: ~/my-project

To get started, describe a task or try one of these commands:

/help - show available commands
/features - show enabled features
/model - change the model

> Create a TypeScript function that sorts an array
```
</Step>
</Steps>

## Features Overview

### Natural Language Interaction

Chat with the agent to accomplish tasks:

```
> Refactor this function to use async/await
> Write unit tests for the User model
> Explain how this code works
```

### Real-Time Streaming

Watch responses stream in real-time with status indicators:

```
‚óè I'll help you refactor that function.‚ñå
```

### Event Visualization

See tool calls, file operations, and subagents execute live:

```
‚îÄ‚îÄ‚îÄ step 1 ‚îÄ‚îÄ‚îÄ
üìÅ ls: 23 files found
üìÑ read_file: src/index.ts (150 lines)
‚úèÔ∏è edit_file: src/index.ts (3 occurrences)
üìã Todos: 1/3 completed
```

### Tool Approval Workflow

<Callout title="Stay Safe" type="warn">Control which tools the agent can use with interactive approvals</Callout>

```
üõë Tool Approval Required
Tool: execute
Arguments:
{
  "command": "rm -rf node_modules"
}

Press [Y] to approve, [N] to deny, [A] to approve all (enable auto-approve)
```

### Session Persistence

Save and resume conversations:

```bash
# Start a new session
bunx ai-sdk-deep-agent --session my-project

# Later, resume the session
bunx ai-sdk-deep-agent --session my-project
```

### Performance Features

Built-in optimizations for long-running conversations:

- **Prompt Caching** - Cache system prompts for faster subsequent calls (Anthropic only)
- **Tool Result Eviction** - Automatically evict large tool results to prevent context overflow
- **Auto-Summarization** - Summarize older messages when approaching token limits

### Web Tools

<Callout type="info">Search the web, make API calls, and fetch web content (requires `TAVILY_API_KEY`)</Callout>

- `web_search` - Powered by Tavily API
- `http_request` - Make HTTP requests to any API
- `fetch_url` - Fetch web pages and convert HTML to Markdown

## Built-in Tools

The CLI includes all Deep Agent tools:

### Planning
- **`write_todos`** - Manage task lists for complex operations

### Filesystem
- **`ls`** - List files in a directory
- **`read_file`** - Read file contents with line numbers
- **`write_file`** - Create a new file
- **`edit_file`** - Replace text in an existing file
- **`glob`** - Find files matching a pattern
- **`grep`** - Search for text within files

### Web (requires TAVILY_API_KEY)
- **`web_search`** - Search the web using Tavily API
- **`http_request`** - Make HTTP requests to APIs
- **`fetch_url`** - Fetch web pages and convert to Markdown

### Shell Command Execution
- **`execute`** - Execute shell commands in the working directory

### Subagent Spawning
- **`task`** - Delegate work to specialized subagents

## Architecture

The CLI is built with:

- **Ink** - React for CLI, providing a component-based architecture
- **React hooks** - `useAgent` hook manages agent state and streaming
- **Event-driven** - Real-time event rendering for all agent activities
- **TypeScript** - Full type safety and IDE support

### Key Components

<Files>
  <Folder name="src/cli" defaultOpen>
    <File name="index.tsx" />
    <Folder name="hooks">
      <File name="useAgent.ts" />
    </Folder>
    <Folder name="components">
      <File name="..." />
    </Folder>
    <File name="theme.ts" />
  </Folder>
</Files>

- **App** (`src/cli/index.tsx`) - Main application component
- **useAgent hook** (`src/cli/hooks/useAgent.ts`) - Agent state management
- **Components** (`src/cli/components/`) - Reusable UI components
- **Theme** (`src/cli/theme.ts`) - Colors, styling, and slash commands

## Next Steps

<Cards>
  <Card title="CLI Usage Guide" href="/docs/use-the-cli">
    Detailed documentation on commands, flags, and workflows
  </Card>
  <Card title="Architecture" href="/docs/architecture">
    Deep Agent architecture and components
  </Card>
  <Card title="Patterns" href="/docs/patterns">
    Common usage patterns and code examples
  </Card>
  <Card title="Checkpointers" href="/docs/checkpointers">
    Session persistence patterns
  </Card>
</Cards>

## Troubleshooting

<Accordions type="single">
  <Accordion title="CLI won't start">
    - Ensure you're using Bun runtime (not Node.js)
    - Check that API keys are set correctly
    - Verify network connectivity
  </Accordion>

  <Accordion title="Tools not working">
    - Check that `TAVILY_API_KEY` is set for web tools
    - Verify file permissions for filesystem operations
    - Check working directory is correct
  </Accordion>

  <Accordion title="Session persistence issues">
    - Ensure `.checkpoints` directory is writable
    - Use unique session names for different projects
    - Check available disk space
  </Accordion>
</Accordions>

For more help, see [GitHub Issues](https://github.com/chrispangg/ai-sdk-deepagent/issues).
