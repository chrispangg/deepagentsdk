---
title: Quickstart
description: Get up and running with ai-sdk-deep-agent in minutes
---

Get up and running with **ai-sdk-deep-agent** in minutes. This guide will walk you through installation, basic usage, and key configuration options.

## Prerequisites

<Callout title="Before You Begin" type="info">
Ensure you have the following ready:
</Callout>

- **Node.js/Bun**: This package requires [Bun](https://bun.sh) runtime (>= 1.0.0)

  ```bash
  # Install Bun if needed
  curl -fsSL https://bun.sh/install | bash
  ```

- **API Key**: Get an API key from one of these providers:
  - [Anthropic](https://console.anthropic.com/) (for Claude models)
  - [OpenAI](https://platform.openai.com/api-keys) (for GPT models)

- **TypeScript**: TypeScript 5+ (recommended but optional)

## Installation

Install the package in your project:

```npm
npm install ai-sdk-deep-agent
```

You'll also need the AI SDK provider packages:

<Tabs items={['Anthropic', 'OpenAI']}>
  <Tab value="Anthropic">
    ```bash
    bun add @ai-sdk/anthropic
    ```
  </Tab>
  <Tab value="OpenAI">
    ```bash
    bun add @ai-sdk/openai
    ```
  </Tab>
</Tabs>

## Your First Agent

Let's create a simple agent that can plan tasks, work with files, and respond to your requests.

<Steps>
<Step>
### Create an Agent

Create a file named `agent.ts`:

```typescript
import { createDeepAgent } from 'ai-sdk-deep-agent';
import { anthropic } from '@ai-sdk/anthropic';

// Create a deep agent
const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  systemPrompt: 'You are a helpful research assistant.',
});
```
</Step>

<Step>
### Generate a Response

Now let's ask the agent to do something:

```typescript
const result = await agent.generate({
  prompt: 'Plan and execute a research task about quantum computing',
  maxSteps: 10,
});

console.log(result.text);
console.log('Todos:', result.state.todos);
console.log('Files:', Object.keys(result.state.files));
```
</Step>

<Step>
### Run It

Set your API key and run:

```bash
# Set your API key
export ANTHROPIC_API_KEY=sk-ant-...

# Run the agent
bun run agent.ts
```

<Callout type="success">
**That's it!** Your agent just:
- Broke down the task into todos using the `write_todos` tool
- Researched the topic
- Created files in the virtual filesystem
- Provided a comprehensive response
</Callout>
</Step>
</Steps>

## Basic Configuration

### Choosing a Model

Use any AI SDK provider (Anthropic, OpenAI, Azure, etc.):

<Tabs items={['Anthropic Claude', 'OpenAI GPT']}>
  <Tab value="Anthropic Claude">
    ```typescript
    import { anthropic } from '@ai-sdk/anthropic';

    const agent = createDeepAgent({
      model: anthropic('claude-sonnet-4-5-20250929'),
    });
    ```
  </Tab>
  <Tab value="OpenAI GPT">
    ```typescript
    import { openai } from '@ai-sdk/openai';

    const agent = createDeepAgent({
      model: openai('gpt-4o'),
    });
    ```
  </Tab>
</Tabs>

### Custom System Prompt

Give your agent specific instructions:

```typescript
const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  systemPrompt: `You are an expert software engineer.
  - Write clean, well-documented code
  - Always create tests for your code
  - Use the write_todos tool to plan your work before starting`,
});
```

### File Storage Options

By default, files are stored in memory. To persist files to disk:

```typescript
import { FilesystemBackend } from 'ai-sdk-deep-agent';

const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  backend: new FilesystemBackend({ rootDir: './workspace' }),
});
```

## Streaming with Events

For real-time feedback on what your agent is doing, use streaming:

```typescript
console.log('ðŸš€ Starting agent...\n');

for await (const event of agent.streamWithEvents({
  prompt: 'Create a todo list for learning TypeScript',
})) {
  switch (event.type) {
    case 'text':
      // Stream text in real-time
      process.stdout.write(event.text);
      break;

    case 'todos-changed':
      // Todo list updated
      console.log('\nðŸ“‹ Todos:', event.todos.length);
      break;

    case 'file-written':
      // File created
      console.log('\nðŸ“ Created:', event.path);
      break;

    case 'done':
      // Task complete
      console.log('\nâœ… Done!');
      break;
  }
}
```

## Key Features

### 1. Planning with Todos

Agents automatically use the `write_todos` tool to plan and track tasks:

```typescript
const result = await agent.generate({
  prompt: 'Build a simple web app with HTML, CSS, and JavaScript',
});

result.state.todos.forEach(todo => {
  console.log(`[${todo.status}] ${todo.content}`);
});
```

### 2. Virtual Filesystem

Agents can create, read, and edit files:

```typescript
const result = await agent.generate({
  prompt: 'Create a file called notes.md with some content',
});

// Read the file
const notes = result.state.files['/notes.md'];
console.log(notes.content.join('\n'));
```

### 3. Structured Output

Get type-safe, validated responses alongside text:

```typescript
import { z } from 'zod';

const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  output: {
    schema: z.object({
      summary: z.string(),
      keyPoints: z.array(z.string()),
      confidence: z.number(),
    }),
    description: 'Research findings with confidence score',
  },
});

const result = await agent.generate({
  prompt: 'Analyze the market trends',
});

console.log(result.output?.summary);      // string
console.log(result.output?.keyPoints);    // string[]
console.log(result.output?.confidence);   // number
```

### 4. Subagents

Delegate specialized work to subagents:

```typescript
const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  subagents: [
    {
      name: 'researcher',
      description: 'Expert at researching topics',
      systemPrompt: 'You are a dedicated research specialist...',
    },
    {
      name: 'coder',
      description: 'Expert at writing code',
      systemPrompt: 'You are a software engineer...',
    },
  ],
});

// Agent can now use the task tool to delegate work
await agent.generate({
  prompt: 'Use the task tool to research this topic, then write code based on findings',
});
```

## Common Patterns

### Multi-turn Conversations

Maintain conversation history:

```typescript
let messages = [];

// First turn
for await (const event of agent.streamWithEvents({
  prompt: 'Create a file called hello.txt',
  messages,
})) {
  if (event.type === 'done') {
    messages = event.messages || [];
  }
}

// Second turn - agent remembers the file
for await (const event of agent.streamWithEvents({
  prompt: 'What did you just create?',
  messages,
})) {
  if (event.type === 'text') {
    process.stdout.write(event.text);
  }
}
```

### Custom Tools

Add your own tools alongside built-in ones:

```typescript
import { tool } from 'ai';
import { z } from 'zod';

const weatherTool = tool({
  description: 'Get the current weather for a city',
  parameters: z.object({
    city: z.string(),
  }),
  execute: async ({ city }) => {
    // Call your weather API here
    return `The weather in ${city} is sunny and 72Â°F`;
  },
});

const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  tools: { get_weather: weatherTool },
});
```

### Enable Web Tools

<Callout title="Tavily API Required" type="warn">
Web search and HTTP request capabilities require a Tavily API key.
</Callout>

```bash
# Set Tavily API key
export TAVILY_API_KEY=tvly-your-key
```

```typescript
// Web tools are automatically available when TAVILY_API_KEY is set
const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
});

await agent.generate({
  prompt: 'Search the web for recent AI news and summarize findings',
});
```

### Command Execution

Enable shell command execution with LocalSandbox:

```typescript
import { LocalSandbox } from 'ai-sdk-deep-agent';

const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
  backend: new LocalSandbox({
    cwd: './workspace',
    timeout: 60000,
  }),
});

// execute tool is automatically added
await agent.generate({
  prompt: 'Initialize a Node.js project and install dependencies',
});
```

## Environment Variables

Create a `.env` file in your project root:

```bash title=".env"
# Required: API keys
ANTHROPIC_API_KEY=sk-ant-...
OPENAI_API_KEY=sk-...

# Optional: Web search
TAVILY_API_KEY=tvly-...

# Optional: Custom base URLs
ANTHROPIC_BASE_URL=https://custom-endpoint.com
```

Load and use:

```typescript
import { dotenv } from 'bun';

// Load .env file
dotenv.config();

// Now create your agent
const agent = createDeepAgent({
  model: anthropic('claude-sonnet-4-5-20250929'),
});
```

## Next Steps

<Cards>
  <Card title="Architecture" href="/docs/architecture">
    Deep dive into the architecture and components
  </Card>
  <Card title="Patterns" href="/docs/patterns">
    Common usage patterns and advanced examples
  </Card>
  <Card title="Checkpointers" href="/docs/checkpointers">
    Session persistence and state management
  </Card>
  <Card title="Agent Memory" href="/docs/agent-memory">
    Cross-conversation memory system
  </Card>
</Cards>

### Explore Examples

Check out the `examples/` directory for 15+ working examples:

<Files>
  <Folder name="examples" defaultOpen>
    <File name="basic.ts" />
    <File name="streaming.ts" />
    <File name="with-structured-output.ts" />
    <File name="with-subagents.ts" />
    <File name="with-custom-tools.ts" />
    <File name="web-research.ts" />
    <File name="with-local-sandbox.ts" />
  </Folder>
</Files>

Run any example with:

```bash
bun examples/basic.ts
```

### Try the CLI

Experience the interactive CLI:

```bash
bunx ai-sdk-deep-agent

# With a specific model
bunx ai-sdk-deep-agent --model anthropic/claude-haiku-4-5-20251001
```

## Troubleshooting

<Accordions type="single">
  <Accordion title="Cannot find module 'ai-sdk-deep-agent'">
    Make sure you've installed the package and its dependencies:

    ```bash
    bun install
    ```
  </Accordion>

  <Accordion title="API key not found">
    Set your API key as an environment variable or in a `.env` file:

    ```bash
    export ANTHROPIC_API_KEY=sk-ant-...
    ```
  </Accordion>

  <Accordion title="Module not found: @ai-sdk/anthropic">
    Install the required AI SDK provider package:

    ```bash
    bun add @ai-sdk/anthropic
    ```
  </Accordion>

  <Accordion title="Agent not using tools">
    Check that:
    1. You're using a model that supports tool calling (Claude 3+, GPT-4)
    2. The task actually requires tools (agents decide when to use them)
    3. Your prompt encourages tool usage: "Use the write_todos tool to plan your work"
  </Accordion>
</Accordions>

## Summary

In this quickstart, you learned:

- âœ… How to install and set up **ai-sdk-deep-agent**
- âœ… How to create a basic agent with planning and filesystem capabilities
- âœ… How to configure models, prompts, and storage backends
- âœ… How to use streaming with real-time events
- âœ… Key features like todos, structured output, and subagents
- âœ… Common patterns for multi-turn conversations and custom tools

<Callout type="success">
**You're now ready to build powerful AI agents!** Explore the documentation and examples to learn more.
</Callout>
